# Bitrix Task Bot

Проект для создания и отслеживания задач в Bitrix24 через телеграм бота.

## Content
1. [Features](#features)
2. [Installation](#installation)
3. [Documentation](#documentation)

## Features
1. **Создание задач**
   - Выбор проекта при создании задач
   - Уведомление главным менеджерам

2. **Просмотр задач**
   - Получение файлов
   - Отправка и просмотр комментариев
   - Просмотр наблюдаемых задач

3. **Отправка уведомлений**
   - Статус задачи
   - Назначение исполнителя
   - Добавление комментариев

4. **Синхронизация с Bitrix**
   - Стадии задачи
   - Иерархия
   - Загрузка всех пользователей
   - Загрузка новых задач

5. **Админ панель**
   - Привязка пользователя с Bitrix
   - Создание подразделений
   - Добавление сотрудников в подразделения

## Installation
### С использованием venv
1. Создайте виртуальное окружение и активируйте его:
   ```sh
   python3 -m venv venv
   source venv/bin/activate
   ```
2. Установите необходимые зависимости:
   ```sh
   pip install -r requirements.txt
   ```
3. Настройте и запустите проект:
   - Заполните данные в файле `./storage/.env`. Пример `.env` файла находится в `./storage/.env.dist`.
   - Запустите миграции ```alembic upgrade head```
   - Запустите основной файл проекта с указанием IP и порта (по умолчанию localhost:8000):
      ```sh
      uvicorn src.main:app --host 127.0.0.1 --port 8000
      ```

### С использованием Pipenv
1. Установите Pipenv, если он ещё не установлен:
   ```sh
   pip install pipenv
   ```
2. Создайте виртуальное окружение и установите зависимости:
   ```sh
   pipenv install
   ```
3. Активируйте виртуальное окружение:
   ```sh
   pipenv shell
   ```
4. Настройте и запустите проект:
   - Заполните данные в файле `./storage/.env`. Пример `.env` файла находится в `./storage/.env.dist`.
   - Запустите миграции ```alembic upgrade head```
   - Запустите основной файл проекта с указанием IP и порта (по умолчанию localhost:8000):
      ```sh
      pipenv run uvicorn src.main:app --host 127.0.0.1 --port 8000
      ```

### Дополнительные пояснения:
- **Заполнение .env файла**: Обязательно заполните все необходимые поля в `.env` файле, используя шаблон из `.env.dist`.
- **Запуск проекта**: При запуске проекта вы можете указать другие IP и порт, если это необходимо. Если не указывать, по умолчанию будет использоваться `localhost:8000`.


## Documentation
Подробная документация доступна в папке `./doc/`.
